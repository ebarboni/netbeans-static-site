<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<META NAME="description" CONTENT="NetBeans IDE 4.0 Web Application Starter kit">
<META NAME="AUDIENCE" CONTENT="NBUSER">
<META NAME="TYPE" CONTENT="ARTICLE">
<META NAME="TOPIC" CONTENT="ADVANCED">
<link rel="stylesheet" type="text/css" href="https://netbeans.org/netbeans.css">
  <script language="JavaScript" type="text/javascript"></script>
  <title>NetBeans IDE 4.0 Web Application Starter kit</title>
</head>
<body>
<table class="b-none" cellpadding="0" cellspacing="0">
  <tbody>
    <tr>
      <td class="valign-top" width="100%">
      <div id="contentLeft"><!-- Begin Content Area -->
      <h1>NetBeans IDE 4.0&nbsp; Web Application Starter kit</h1>
	  <div class="articledate" style="margin-left:0px;">Contributed by Bjorn O. Bakke as part of the <a href="../../competition/win-with-netbeans.html">Win With NetBeans</a> comptetition</div></p>

<p>Recommended NetBeans reading!
<br>
This web application is heavily influenced by Jayson falkner &amp; Kevin
R Jones<span class="small"><span class="small"> most excellent book: </span></span><c
 style="font-style: italic;">"<u>Servlets and JSP the J2EE Web Tier</u>."<br>
 <br>
If you are interested in the book you can pick it up at </c>Amazon.com<c>:<br>
<a href="http://www.amazon.com/exec/obidos/ASIN/0321136497/102-1831065-4468902">http://www.amazon.com/exec/obidos/ASIN/0321136497/102-1831065-4468902</a><br>
      
      </c><c></c>
      <div id="contentLeft"><!-- Begin Content Area -->
      <h2>Introduction
      </h2>
This tutorial intent to walk you through the basic of using netbeans 4.0 to develop a model view control web application for you to build on further. we will start off by designing a POJO object as our model,  a set of view files and a controller. when this is done we will extend the project to use JDBC to&nbsp; interact wit a underlaying MyQL datastore
<p><a href="https://netbeans.org/files/documents/4/368/examples.zip">Download Files & Sources</a></p>
      <br>
      <h2><a name="setup"></a>Starting up<br>
      </h2>
      <br/>
      <div class="indent">
      <h3 class="tutorial">Creating a
new
&nbsp;web
application</h3>
            <ol>
              <li>Choose File &gt; New Project. Under Categories,
select Web. Under Projects, select Web Application and click Next.</li>
            </ol>
            <img style="width: 380px; height: 261px;" alt="Wizard2"
 src="../../images_www/articles/win-with-netbeans/Bilde1.jpg"><br>
            <ol>
              <li> Under Project Name, enter Netbeans4Tutorial.</li>
            </ol>
            <br>
            <img style="width: 380px; height: 261px;" alt="Wizard1"
 src="../../images_www/articles/win-with-netbeans/Bilde2.jpg"><br>
            <ol>
              <li>Leave the Set as Main Project checkbox selected.
Notice that the Context Path is <tt>/Netbeans4Tutorial</tt>.</li>
              <li>notice that Servlet specification 2.4 is described in
the Description panel, this is a reqirement for us since we are going
to make extencive use of EL (expresion language) in this project<br>
              </li>
              <li>Click Finish. The IDE creates the <tt><i>$PROJECTHOME</i>/Netbeans4Tutorial</tt>
project folder. The project folder contains all of your sources and
project metadata, such as the project Ant script. The HelloWeb project
opens in the IDE. You can view its logical structure in the Projects
window and its file structure in the Files window.</li>
            </ol>
            </div>
      <br>
      <h2><a name="create"></a>Creating our POJO Model
      </h2>
      <br/><div class="indent">
      <h3 class="tutorial">Creating
the Model</h3>
            <ol>
              <li>Expand the&nbsp; project node and the Source
Packages node. Note the Source Packages node only contains an empty
default package node. </li>
              <li>Right-click the Source Packages node and choose New
&gt; java class. <br>
              </li>
              <li>Enter StarterModel
in the Class Name text box and enter <tt>org.netbeans.starttutorial.model</tt>
in the
Package combo box. <br>
              </li>
              <li>Click Finish.</li>
            </ol>
            <img style="width: 380px; height: 250px;" alt="StarterModel"
 src="../../images_www/articles/win-with-netbeans/model.jpg"><br><br/>
            <h3 class="tutorial">Adding fields and metodes</h3>
            <ol>
              <li>Now that netbeans has generated an empty class
definition for us, it is time to populate it with some field names.</li>
              <li>Type or copy these field names to you mode.<br>
              </li>
              <li>Right click on the field names and select encapsulate
from the Refactoring menu</li>
              <li>
                <pre class="examplecode">private int id;<br>private String authour;<br>private String summary;<br>private String story;<br>private String topic;<br>private java.sql.Timestamp date;</pre>
              </li>
              <li>It should look like this. enable all checkboxes, and
press "next &gt;"<br>
              </li>
            </ol>
            <img style="width: 380px; height: 322px;"
 alt="encapsulate.jpg" src="../../images_www/articles/win-with-netbeans/encapsulate.jpg"><br><br/>
The figure shows us selecting all fields to generate accsessors and
mutators for these fields.<br>
            <br>
            <img style="width: 343px; height: 231px;" alt="metodes.jpg"
 src="../../images_www/articles/win-with-netbeans/metodes.jpg"><br>
            <br>
            <br>
And finally add the import statements and the to metodes below to your
starterModel class to
complete it<br>
            <pre class="examplecode">import java.util.ArrayList;<br>import java.util.List;<br><br></pre>
            <br>
            <pre class="examplecode"><br><br>public List getpopulateStarterModelArray ()<br>    {<br>        <br>        List starterModelarray = new ArrayList ();<br>        StarterModel s =<br>                getModel (1, "Hello World  ", "The First part of ", "the tutorial is ", "over",new java.util.Date ());<br>        <br>        <br>        StarterModel st =<br>                getModel (2, "now  ", "it is ", "time to ", "add some more pages ",new java.util.Date ());<br>        <br>        StarterModel stu =<br>                getModel (3, "But first we have ", "to discuss", "what actually", "happened here dont you think",new java.util.Date ());<br>        <br>        starterModelarray.add (s);<br>        starterModelarray.add (st);<br>        starterModelarray.add (stu);<br>        return starterModelarray;<br>    }<br>    <br>    private StarterModel getModel (int a, String b,String c,String d,String e,java.util.Date f )<br>    {<br>        StarterModel sModel = new StarterModel ();<br>        sModel.setId (a);<br>        sModel.setAuthour (b);<br>        sModel.setStory (c);<br>        sModel.setTopic (d);<br>        sModel.setSummary (e);<br>        sModel.setDate (new java.sql.Timestamp (new java.util.Date ().getTime ()));<br>        return sModel;<br>    }</pre>
           
            </div>
	    <br/>
      <h2><a name="create"></a>Making The Controller
      </h2>
      <br/><div class="indent">
      <h3 class="tutorial">Renaming a
field</h3>
            <ol>
              <li>Expand the&nbsp; project node and the Source
Packages node. Note the Source Packages node only contains an empty
default package node. </li>
              <li>Right-click the Source Packages node and choose New
&gt; java class. <br>
              </li>
              <li>Enter "FrontControllerFilter"
in the Class Name text box, and enter <tt>org.netbeans.starttutorial.controller</tt>
in the
Package combo box. <br>
              </li>
              <li>Click Finish.</li>
            </ol>
            <h3 class="tutorial">Generating
getter and
setter methods</h3>
            <ol>
              <li>The&nbsp; FrontControllerFilter class&nbsp; is listed
here for your convinience to copy <br>
                <pre class="examplecode">&nbsp;package org.netbeans.starttutorial.controller;<br><br>import java.io.*;<br><br>import javax.servlet.*;<br>import javax.servlet.http.*;<br>import org.netbeans.starttutorial.interfaces.PageProcessImplementation;</pre>
              </li>
              <li>
                <pre class="examplecode">public class FrontControllerFilter implements Filter<br>{<br>    protected FilterConfig config = null;<br>    <br>    public void init (FilterConfig filterConfig)<br>    {<br>        config = filterConfig;<br>    }<br>    <br>    public void doFilter ( ServletRequest req, ServletResponse res,<br>            FilterChain chain ) throws IOException, ServletException<br>    {<br>        if (!(req instanceof HttpServletRequest))<br>        {<br>            throw new ServletException ("Filter requires a HTTP request.");<br>        }<br><br>        <br>        HttpServletRequest request = (HttpServletRequest)req;<br>        HttpServletResponse response = (HttpServletResponse)res;<br>        String uri = request.getRequestURI ();<br>        <br>       <br>        int begin = uri.lastIndexOf ("/")+1;<br>        int end = uri.lastIndexOf (".");<br>        <br>        String name = "pageholder";<br>        if (begin &lt; end)<br>        {<br>            name = uri.substring (begin, end);<br>        }<br>        <br>        boolean doFilter = true;<br>        <br>        // try to load and run an implicit MVC control component.<br>        try<br>        {<br>            Object o = Class.forName ("org.netbeans.starttutorial.viewimplementation."+name).newInstance ();<br>            if (!(o instanceof PageProcessImplementation))<br>            {<br>                throw new ServletException ("no interface");<br>            }<br>            <br>            PageProcessImplementation control = (PageProcessImplementation)o;<br>            doFilter = control.processPageRequest (request, response);<br>        }<br>        catch (ClassNotFoundException e)<br>        {<br>            System.out.print ("\nClassNotFoundException \n" + e);<br>        }<br>        catch (InstantiationException e)<br>        {<br>            System.out.print ("\nInstantiationException \n" + e);<br>        }<br>        catch (IllegalAccessException e)<br>        {<br>            System.out.print ("\nIllegalAccessException \n" + e);<br>        }<br><br>        if (doFilter)<br>        {<br>            chain.doFilter (request, response);<br>        }<br>    }<br>    <br>    public void destroy ()<br>    {<br>    }<br>}</pre>
              </li>
            </ol>
            <br>
Notice that we got an import statment error here. Thats because we have
not created this perticular interface yet, thats next<br>
            <img style="width: 327px; height: 43px;" alt="error"
 src="../../images_www/articles/win-with-netbeans/Bilde5.jpg"><br>
            <br>
            <br>
Make a new java class with package name&nbsp; and&nbsp; class name like
the one below<br>
            <pre class="examplecode">package org.netbeans.starttutorial.interfaces;<br><br>import javax.servlet.http.HttpServletRequest;<br>import javax.servlet.http.HttpServletResponse;<br>import java.io.IOException;<br>import javax.servlet.ServletException;<br><br><br>/**<br> * a public interfaqce for everyone to use<br> * todays task: See controller to figure out why we use this interface in the first plase<br> */<br>public interface PageProcessImplementation<br>{<br>    public boolean processPageRequest (HttpServletRequest request,HttpServletResponse response) throws ServletException, IOException;<br>}</pre>
            </div>
	    <br>
            
      <h2><a name="create"></a>Creating a view page
      </h2>
      <br/><div class="indent"><h3 class="tutorial">Editing the
default
JavaServer Pages File
and creating the code behind class</h3>
            <ol>
              <li>Expand the&nbsp; project node and the Web Pages
node. Note the IDE has created a default JavaServer Pages page, <tt>index.jsp</tt>,
for you. We are not going to use this one<br>
              </li>
              <li>Right-click the web pages node and choose New
&gt; jsp. <br>
              </li>
              <li>Enter "pageholder"
in the jsp File_Name text box, and enter <tt>view</tt>
in the folder field. <br>
              </li>
              <li>Click Finish.</li>
              <li><img style="width: 380px; height: 246px;"
 alt="pageholder" src="../../images_www/articles/win-with-netbeans/pageholder.jpg"></li>
              <li>paste or type inn so the pageholder.jsp file looks
like this.</li>
            </ol>
            <br>
            <ol>
              <pre class="examplecode">&lt;%@page contentType="text/html"%&gt;<br>&lt;%@page pageEncoding="UTF-8"%&gt;<br><br>&lt;%--<br>The taglib directive below imports the JSTL library. If you uncomment it,<br>you must also add the JSTL library to the project. In the project properties<br>choose Build -&gt; Compiling sources and use the Add Libray... button to add <br>the JSTL 1.1 library.<br>--%&gt;<br><br>&lt;%@taglib uri="http://java.sun.com/jsp/jstl/core" prefix="c"%&gt; <br><br>                                     <br>&lt;html&gt;<br>    &lt;body&gt;                          <br>        &lt;c:forEach var="starterModel" begin="0" items="${arrayofstarterobjects}"&gt;<br>            &lt;c:out value="${starterModel.id}" /&gt; <br>            &lt;br&gt;<br>            &lt;c:out value="${starterModel.authour}" /&gt;<br>            &lt;c:out value="${starterModel.story}" /&gt;<br>            &lt;c:out value="${starterModel.summary}" /&gt; <br>            &lt;c:out value="${starterModel.topic}" /&gt; <br>            &lt;p&gt;                 <br>        &lt;/c:forEach&gt;<br>        <br>        Lets print out todays  date to: <br>        &lt;c:forEach var="starterModel" begin="0" end ="0" items="${arrayofstarterobjects}"&gt;<br>        ${starterModel.date} <br>        &lt;/c:forEach&gt;<br>    &lt;/body&gt;<br>&lt;/html&gt;<br></pre>
            </ol>
            <ol>
              <br>
              <li>Expand the&nbsp; project node and the source Packages
node. <br>
              </li>
              <li>Right-click the web pages node and choose New
&gt; jsp. <br>
              </li>
              <li>Enter "pageholder"
in the jsp File_Name text box, and enter <tt>view</tt>
in the folder field. <br>
              </li>
              <li>Click Finish.</li>
              <li><br>
              </li>
              <li><img style="width: 380px; height: 246px;"
 alt="pageholder.jpg" src="../../images_www/articles/win-with-netbeans/pageholder.jpg"><br>
              </li>
              
            <li>
            <pre class="examplecode">package org.netbeans.starttutorial.viewimplementation;<br><br>import java.io.IOException;<br>import javax.servlet.ServletContext;<br>import javax.servlet.ServletException;<br>import javax.servlet.http.HttpServletRequest;<br>import javax.servlet.http.HttpServletResponse;<br>import org.netbeans.starttutorial.controller.*;<br>import org.netbeans.starttutorial.model.*;<br>import org.netbeans.starttutorial.interfaces.PageProcessImplementation;<br><br><br>/**<br> *<br> * @author <br> */<br>public class pageholder implements PageProcessImplementation<br>{<br>    public boolean processPageRequest (HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException<br>    {<br>        ServletContext sc = request.getSession ().getServletContext ();<br>        try<br>        {<br>            StarterModel starterModel = new StarterModel ();<br>         <br>            request.setAttribute ("arrayofstarterobjects", starterModel.getpopulateStarterModelArray ());    <br>        }        <br>        catch(Exception e)<br>        {<br>            System.out.print ("Exception in class pageholder");<br>        }<br>        return true;<br>    }<br>}</pre>
            </li>
	    </ol>
            <h3 class="tutorial">Changes to
the web.xml&nbsp; file</h3>
            <ol>
              <li>Expand the&nbsp; project node and the Web-INF
node. </li>
              <li>Dobble click the web.xml file to bring it up in the
editor</li>
              <li>paste or type inn so the web.xml file looks like this.<br>
              </li>
              <li>
                <pre class="examplecode">    &nbsp;&lt;?xml version="1.0" encoding="UTF-8"?&gt;<br>&lt;web-app xmlns="http://java.sun.com/xml/ns/j2ee" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://java.sun.com/xml/ns/j2ee http://java.sun.com/xml/ns/j2ee/web-app_2_4.xsd" version="2.4"&gt;<br>  &lt;filter&gt;<br>    &lt;filter-name&gt;ControlFilter&lt;/filter-name&gt;<br>    &lt;filter-class&gt;org.netbeans.starttutorial.controller.FrontControllerFilter&lt;/filter-class&gt;<br>  &lt;/filter&gt;<br>  &lt;filter-mapping&gt;<br>    &lt;filter-name&gt;ControlFilter&lt;/filter-name&gt;<br>    &lt;url-pattern&gt;/view/*&lt;/url-pattern&gt;<br>  &lt;/filter-mapping&gt;<br>  &lt;session-config&gt;<br>    &lt;session-timeout&gt;30&lt;/session-timeout&gt;<br>  &lt;/session-config&gt;<br>  &lt;welcome-file-list&gt;<br>    &lt;welcome-file&gt;<br>            index.html<br>        &lt;/welcome-file&gt;<br>    &lt;welcome-file&gt;<br>            index.htm<br>        &lt;/welcome-file&gt;<br>    &lt;welcome-file&gt;<br>            view/pageholder.jsp<br>        &lt;/welcome-file&gt;<br>  &lt;/welcome-file-list&gt;<br>&lt;/web-app&gt;</pre>
              </li>
            </ol>
            </div><br/>
      <h2><a name="comp"></a>Compiling and Running the Project</h2><br/>
      <div class="indent">
      <h3 class="tutorial">Adding required libraries</h3>
            <ul>
              <li>Right-click the project node and choose properties. <br>
              </li>
              <li>Select Build | compiling Sources</li>
              <li>click Add Library</li>
              <li>select JSTL 1.1 and click add library<br>
              </li>
              <li>click OK</li>
            </ul>
            <br>
            <ul>
              <li><img style="width: 380px; height: 267px;"
 alt="libs.jpg" src="../../images_www/articles/win-with-netbeans/libs.jpg"><br>
              </li>
            </ul>
            <h3 class="tutorial">Building a project</h3>
            
            <ul>
              <li>Choose Build &gt; Build Main Project (F11). The&nbsp;
project is built.</li>
            </ul>
	    <h3 class="tutorial">Running the main project</h3>
            <ul>
              <li>Choose Run&nbsp;&gt; Run&nbsp;Main&nbsp;Project (F6)
from the Run menu. Double-click the Output window's titlebar to
maximize it so you can see all the output. Note that Ant builds
Netbeans4Tutorial<samp>.war</samp>
first and then compiles Netbeans4Tutorial using it. Finally, it deploys
the web
application using your default server. Double-click the Output window's
titlebar again to minimize it.</li>
              <li>Select the Files window and expand the HelloWeb
project node. The build class files are in the <tt>build</tt> folder.
The build WAR file is in the <tt>dist</tt> folder.</li>
              <li>Press F6 to run the program again. Nothing new needs
to be compiled, but the program is run.</li>
            </ul>
            <br>
            <ul>
              <li><img style="width: 580px; height: 379px;" alt="run"
 src="../../images_www/articles/win-with-netbeans/run.jpg"><br>
              </li>
            </ul>
            </div><br/>
      <h2><a name="test"></a>PART 2 - ADDING A DATABASE
      </h2>
      <br/><div class="indent"><h3 class="tutorial">Creatin a data/base/store</h3>
            <ol>
              <li>You need to install MySQL database if you have not
done so allready.<br>
              </li>
              <li>Make sure you have downloaded the newest mysql jdbc
connector from: http://dev.mysql.com/downloads/connector/j/3.1.html</li>
              <li>Start up mysql</li>
              <li>open the runtime tab in Netbeans expand the database
and Drivers node.</li>
              <li>right click and select Add Driver</li>
              <li>locate your mysql_connector.jar file and select add</li>
              <li>finish by pressing OK</li>
              <li>Now select the newly created mysql node, right click
and choose connect using</li>
              <li>choose the mysql connection just created <br>
              </li>
              <li>Enter jdbc:mysql://localhost/ as the database URL and
supply your database username and password as approprate. press ok<br>
              </li>
              <li>Right click the jdbc:mysql/localhost node&nbsp;
select execute command,&nbsp; and insert this command CREATE DATABASE
nbstarterkit and execute it. You have now created your own litte
database</li>
              <li>Now disconect and delete the mysql node.<br>
              </li>
              <li>repeat step 8 to 10 but using this URL instead:
jdbc:mysql://localhost/nbstarterkit</li>
              <li>execute this command to make a table: CREATE TABLE
`content` (<br>
&nbsp; `id` int(11) NOT NULL auto_increment,<br>
&nbsp; `author` varchar(50) default NULL,<br>
&nbsp; `summary` text,<br>
&nbsp; `story` text,<br>
&nbsp; `topic` varchar(50) default NULL,<br>
&nbsp; `date` datetime default NULL,<br>
&nbsp; PRIMARY KEY&nbsp; (`id`)<br>
) TYPE=MyISAM;</li>
              <li>and this one to populate it<br>
                <br>
INSERT INTO `content` (`id`,`author`,`summary`,`story`,`topic`,`date`)
VALUES ("1","Jan John Jullion-Ceccarelli","This guide is designed to
help you transition your applications and IDE settings from NetBeans
IDE 3.6 to NetBeans IDE 4.0, and to show you how to be even more
productive with the new NetBeans IDE projects system.","This guide is
designed to help you transition your applications and IDE settings from
NetBeans IDE 3.6 to NetBeans IDE 4.0, and to show you how to be even
more productive with the new NetBeans IDE projects
system.","NEWS","2005-01-30 21:39:39");</li>
            </ol>
            </div>
	    <br/>
     
      <h2><a name="files"></a>Running the full JDBC enabled project
      </h2>
      <div class="indent">
            <ol>
              <li>make sure that&nbsp; MySQL is up and running</li>
              <li>Add the mysql-connector.jar to your project<br>
              </li>
              <li>Choose Run&nbsp;&gt; Run&nbsp;Main&nbsp;Project (F6)
from the Run menu. Double-click the Output window's titlebar to
maximize it so you can see all the output. Note that Ant builds
Netbeans4Tutorial<samp>.war</samp>
first and then compiles Netbeans4Tutorial using it. Finally, it deploys
the web
application using your default server. Double-click the Output window's
titlebar again to minimize it.</li>
              <li>Select the Files window and expand the HelloWeb
project node. The build class files are in the <tt>build</tt> folder.
The build WAR file is in the <tt>dist</tt> folder.</li>
              <li>Press F6 to run the program again. Nothing new needs
to be compiled, but the program is run.</li>
            </ol>
            <img style="width: 600px; height: 392px;" alt="final.jpg"
 src="../../images_www/articles/win-with-netbeans/final.jpg"><br>
            </div>
</body>
</html>
