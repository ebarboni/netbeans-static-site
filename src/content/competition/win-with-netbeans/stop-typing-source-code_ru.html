<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<title>Хватит вводить исходный код вручную</title>
<META NAME="description" CONTENT="An introduction to creating source code faster with less typing using NetBeans 4.0">
<link rel="stylesheet" type="text/css" href="../../netbeans.css">
</head>

<body>

<h1>Хватит вводить исходный код вручную</h1>
<div class="articledate" style="margin-left:0px;">Автор &mdash; Рандал Финк Исаксен (Randahl Fink Isaksen) в рамках соревнования <a href="../../competition/win-with-netbeans.html">Победа с NetBeans</a> </div></p>

<p>Введение в ускоренное создание исходного кода без лишнего ввода с клавиатуры с помощью NetBeans 4.0.
</p>

		<h2>Предисловие</h2>

		<p>
			<img src="../../images_www/articles/win-with-netbeans/keyboard.png" class="align-right" vspace="5" hspace="20"/> Знаете ли вы, что клавиши на стандартной клавиатуре нарочно расположены так, чтобы снизить скорость печати? Это действительно так. Стандартная раскладка, называемая также раскладкой QWERTY, первоначально была создана, чтобы не позволять машинистам достигнуть скорости печати, при которой сталкивались бы литерные рычаги.
		</p>

		<p>
			Это лишь одна из множества причин не вводить исходный код вручную или, выражаясь точнее, одна из причин позволить среде IDE NetBeans формировать исходный код автоматически. В этой статье приведен ряд советов по более быстрому написанию исходного кода с помощью среды IDE NetBeans 4.0 при минимальном вводе с клавиатуры.
		</p>
<p></p>
		<h2>Советы</h2>

		<h3>Совет 1: используйте сопоставление слов</h3>

		<p>
			После ввода слова в исходном файле его можно повторно ввести в любом месте текста: просто вводите первые несколько букв и нажмите CTRL+K. Эта функция называется сопоставлением слов и принцип ее действия заключается в поиске слов, начинающихся с введенных букв. По сочетанию клавиш CTRL+K выполняется поиск выше по файлу, а по CTRL+L &mdash; ниже по файлу.
		</p>

		<p>После написания следующего цикла for:</p>

<pre class="examplecode">
for(Person person : personSet) {

}
</pre>

		<p>
			который совершает итерацию по множеству person, можно разместить курсор между фигурными скобками и ввести &quot;pe&quot;, а затем нажать CTRL+K. Будет немедленно предложено слово &quot;personSet&quot; как ближайшее слово, начинающееся с &quot;pe&quot;, а при повторном нажатии CTRL+K будет предложено слово &quot;person&quot;, т.е. следующее слово.
		</p>

		<p>
			В этом особом случае фактически даже не нужно вводить &quot;pe&quot; &mdash; достаточно просто нажать CTRL+K внутри цикла, чтобы автоматически вставить идентификаторы &quot;personSet&quot; и &quot;person&quot;: это возможно, поскольку эти два идентификатора являются первыми двумя словами по направлению к началу исходного файла. Однако, если бы между началом цикла и курсором было десять слов, при нажатии CTRL+K пришлось бы прокрутить эти десять слов, прежде чем очередь дошла бы до &quot;personSet&quot; и &quot;person&quot;. В этом случае ввод &quot;pe&quot; перед нажатием CTRL+K позволяет пропустить все слова, не начинающиеся с &quot;pe&quot;.
		</p>

		<p>
			Если случайно выбрано слово дальше требуемого из-за лишних нажатий CTRL+K, просто нажмите CTRL+L несколько раз до возврата к пропущенному слову. Наконец обратите внимание, что эта функциональная возможность работает с любыми типами файлов; она весьма удобна при работе с файлами XML, где с ее помощью можно вводить имена тегов, уже присутствующих в файле.
		</p>

		<h3>Совет 2: создание макроса идентификаторов</h3>

		<p>
			Длинные идентификаторы повышают читаемость кода. Бывает непросто вспомнить, что идентификатор &quot;i&quot; означает экземпляр типа &quot;Invoice&quot;, а не &quot;Iterator&quot; или &quot;ItemListener&quot;, особенно в длинных методах; если бы не набор текста на клавиатуре, лучше было бы использовать идентификатор &quot;invoice&quot;. Если бы в среде IDE NetBeans автоматически подставлялось слово &quot;invoice&quot;, не было бы необходимости использовать &quot;i&quot;. В этом разделе рассматривается макрос, который позволяет этого добиться.
		</p>

		<p>
			Представим, что курсор размещен непосредственно после &quot;Invoice&quot; (позиция обозначена символом &quot;|&quot;) в коде ниже: 
		</p>
<pre class="examplecode">
public class Order {
	public void setInvoice(Invoice |) {

	}
}
</pre>

		<p>
			При срабатывании макроса автоматически вводится текст &quot;invoice&quot; в соответствии с типом &quot;Invoice&quot;, который уже присутствует в коде. Макрос просто вводит предыдущее слово и изменяет регистр первой буквы на строчный. Теперь, когда в первый раз слово &quot;invoice&quot; введено автоматически, можно использовать сопоставление слов (ALT+K), которое рассматривалось в первом совете, для повторного ввода идентификатора.
		</p>

		<p>
			Для создания макроса необходимо выполнить следующие пять действий:
		</p>

		<ol>
			<li>Выберите пункт меню &quot;Сервис &gt; Параметры&quot;</li>
			<li>Разверните узел &quot;Правка&quot;, а затем &quot;Параметры редактора&quot;</li>
			<li>Выберите &quot;Редактор Java&quot;</li>
			<li>
				Найдите в правой половине окна свойство &quot;Макросы&quot; и нажмите кнопку &quot;...&quot; справа.
			</li>
			<li>
				Добавьте макрос с именем &quot;Ввод имени идентификатора по предыдущему слову&quot;, состоящий из следующего кода макроса (просто скопируйте код отсюда):
<pre class="examplecode">
selection-previous-word copy-to-clipboard
caret-next-word &quot; &quot; paste-from-clipboard caret-previous-word
selection-forward to-lower-case caret-next-word
</pre>
			</li>
		</ol>


		<p>
			Наконец нажмите кнопку &quot;ОК&quot; в окне &quot;Макросы&quot; для закрытия, однако оставьте открытым окно &quot;Параметры&quot; &mdash; оно понадобится для создания сочетания клавиш для вызова нового макроса:
		</p>

		<ol>
			<li>
				Откройте окно &quot;Сочетания клавиш&quot; нажатием на кнопку &quot;...&quot; свойства &quot;Сочетания клавиш&quot;.
			</li>
			<li>Щелкните &quot;Сортировать по имени&quot; и выберите новый макрос, который присутствует в списке под именем &quot;macro-Ввод имени идентификатора по предыдущему слову&quot;.</li>
			<li>Добавьте сочетание клавиш &quot;ALT+N&quot; кнопкой &quot;Добавить&quot;.</li>
		</ol>

		<p>
			При создании макросов обычно используется функциональная возможность записи макросов, позволяющая записывать манипуляции мышью и клавиатурой, сохраняя их в качестве макроса. Однако макрос, показанный здесь, содержит действие &quot;to-lower-case&quot;, которое пока что невозможно выполнить путем манипуляции мышью или клавиатурой, поэтому это действие добавляется вручную.
		</p>

		<h3>Совет 3: создание макроса присвоения</h3>

		<p>
			Это излюбленный макрос автора. Обычно при определении конструктора значения параметров конструктора необходимо присвоить переменным класса, как в следующем примере:
		</p>

<pre class="examplecode">
public Person(String name, String emailAddress) {
	this.name = name;
	this.emailAddress = emailAddress;
}
</pre>

		<p>
			Если определить следующий макрос и присвоить его сочетанию клавиш ALT+=, то вместо ввода &quot;this.emailAddress = emailAddress;&quot; достаточно ввести &quot;this.e&quot; и нажать CTRL+K для получения &quot;this.emailAddress&quot;, а затем ALT+= для ввода остального текста.
		</p>

		<p>
			Указания по созданию макроса приведены в разделе &quot;Совет 2&quot;. Ниже приведен код макроса:
		</p>

<pre class="examplecode">
selection-previous-word copy-to-clipboard caret-next-word &quot; = &quot; paste-from-clipboard &quot;;&quot;
</pre>

		<p>
			После периода первоначального привыкания к макросу ALT+= его использование позволяет вводить текст быстрее, чем какие-либо другие способы.
		</p>

		<h3>Совет 4: используйте сокращения</h3>

		<p>
			В среду IDE NetBeans встроен широкий спектр сокращений для ввода широко известных слов или даже многострочных конструкций кода. Попробуйте ввести &quot;sout&quot; и нажать клавишу ПРОБЕЛ: при этом автоматически вставляется полное выражение стандартного вывода, т.е.
		</p>

<pre class="examplecode">
System.out.println(&quot;|&quot;);
</pre>

		<p>
			<img src="../../images_www/articles/win-with-netbeans/abbreviations.png" class="align-right" vspace="5" hspace="20"/> В среде IDE NetBeans не выводится показанный здесь символ &quot;|&quot;; после замены сокращения в эту позицию помещается курсор.
		</p>

		<p>
			Встроенные сокращения позволяют экономить время, однако еще более удобна функция определения собственных сокращений.
		</p>

		<p>
			Для начала можно просмотреть существующие исходные файлы и определить часто используемые конструкции. Типичный пример часто используемой конструкции &mdash; конструкция if/throw в этом методе:
		</p>

<pre class="examplecode">
public void remove(int lower, int upper) {
	if(lower &lt; 0)
		throw new IllegalArgumentException(
			&quot;Параметр \&quot;lower\&quot; должен быть &quot; +
			&quot;неотрицательным числом.&quot;
		);
}
</pre>

		<p>
			Этот метод начинается с предохранительного выражения, подтверждающего, что первый параметр является допустимым аргументом; в противном случае вызывается исключение IllegalArgumentException.
		</p>

		<p>
			Поскольку использование подобного предохранительного выражения &mdash; разумная и обычная практика, удобно добавить сокращение, которое будет автоматически разворачиваться в конструкцию if/throw. Для этого необходимо выполнить следующие действия:
		</p>

		<ol>
			<li>Выберите пункт меню &quot;Сервис &gt; Параметры&quot;</li>
			<li>Разверните узлы &quot;Правка&quot;, &quot;Параметры настройки редактора&quot; и &quot;Редактор Java&quot;.</li>
			<li>Нажмите кнопку &quot;...&quot; в ряду, содержащем свойство &quot;Сокращения&quot;.</li>
			<li>
				Добавьте сокращение &quot;ill&quot;, которое разворачивается в
<pre class="examplecode">
if(|)
	throw new IllegalArgumentException(&quot;&quot;);
</pre>
			</li>
		</ol>


		<p>
			Обратите внимание, что в среде IDE NetBeans символ &quot;|&quot; распознается как местоположение курсора после развертывания.
		</p>

		<p>
			Попробуйте ввести &quot;ill&quot; и нажать ПРОБЕЛ: voila!
		</p>

		<p>
			Безусловно, можно создать макрос, который вводил бы то же самое, однако важное преимущество сокращений заключается в простоте запоминания: им можно давать мнемонические имена вроде &quot;ill&quot; или даже &quot;illarg&quot; вместо трудных для запоминания сочетаний клавиш вроде &quot;CTRL+ALT+I&quot;. Недостаток сокращений заключается в невозможности (по крайней мере, на момент написания статьи) вызова макросов из них.
		</p>

		<h3>Совет 5: пользуйтесь шаблонами исходного кода</h3>

		<p>
			Весьма простая в использовании функциональная возможность шаблонов среды IDE NetBeans часто игнорируется разработчиками. В случае необходимости создания нескольких файлов исходного кода, содержащих много общих аспектов, следует определить шаблон, содержащий эти общие аспекты.
		</p>

		<p>
			Например, во многих системах предусмотрены правила определения класса исключения или правила, утверждающие, что все классы, расширяющие класс X, должны содержать определенные методы, переменные, документацию и т.д.
		</p>

		<p>
			При написании нового класса разработчики часто начинают с пустого шаблона &quot;Класс Java&quot; и пишут все вручную; часто при этом приходится вводить код, уже написанный ранее. Вместо этого следует найти класс, который можно использовать как отправную точку, щелкнуть его узел дерева правой кнопкой мыши и выбрать &quot;Сохранить как шаблон...&quot;. Теперь при создании похожего класса достаточно щелкнуть правой кнопкой пакет, в который нужно поместить создаваемый класс, выбрать пункт меню &quot;Новый &gt; Файл/каталог...&quot; и выбрать шаблон.
		</p>

		<p>
			Определение шаблона на основе существующего исходного файла может привести к добавлению лишнего содержимого, однако после определения шаблона можно убрать ненужный код: выберите пункт меню &quot;Средства &gt; Параметры&quot; и перейдите к шаблону в разделе &quot;Создание исходного кода и управление им&quot;. Можно просто щелкнуть правой кнопкой мыши соответствующий узел дерева и выбрать пункт меню &quot;Правка&quot;, изменить файл и сохранить его.
		</p>

		<p>
			Если разработчик предоставляет коллегам интерфейс API, в котором они часто реализуют один и тот же интерфейс, можно помочь им, предоставив вместе с интерфейсом API шаблон исходного кода. Распространение шаблона сводится просто к копированию с одного компьютера на другой. Шаблоны хранятся в папке
		</p>

		<p>
			&quot;... [домашний каталог пользователя]\.netbeans\4.0\config\Templates\[каталог шаблона]&quot;
		</p>

		<p>
			Если используется управление версиями, рекомендуется создать набор шаблонов проекта и распространять их через систему управления версиями.
		</p>

		<h3>Совет 6: эффективная правка методов получения и установки</h3>

		<p>
			При написании компонентов Java масса времени затрачивается впустую на написание и обслуживание тривиальных методов получения и установки. К счастью в среде IDE NetBeans предусмотрена автоматическая генерация этих методов, и в среду IDE даже встроен механизм эффективного управления ими. Начиная с выпуска среды IDE NetBeans 4.0 механизм реорганизации кода поддерживает генерацию стандартных методов получения и установки из переменных класса. Ниже показано создание методов getName и setName:
		</p>

<pre class="examplecode">
public class Customer {
  private String name;

    public String getName() {
      return name;
    }

    public void setName(String name) {
      this.name = name;
    }
}
		</pre>

		<p>
			Для создания этих методов достаточно объявить свойство name, щелкнуть его правой кнопкой мыши и выбрать пункт всплывающего меню &quot;Реорганизация кода... &gt; Инкапсулировать поля...&quot;.
		</p>

		<p>
			<img src="../../images_www/articles/win-with-netbeans/bean-patterns.png" class="align-right" vspace="5" hspace="20"/>После генерации методов может потребоваться изменить имя свойства &quot;name&quot;. Это может оказаться весьма трудоемкой операцией, поскольку слово &quot;name&quot; или &quot;Name&quot; уже упоминается по всему исходному файлу. К счастью в среде IDE NetBeans предусмотрена весьма удобная функциональная возможность &quot;Шаблоны компонентов&quot;, позволяющая решить эту проблему. Найдите класс в дереве проекта и разверните соответствующий узел дерева. В среде IDE NetBeans отображается узел с именем &quot;Шаблоны компонентов&quot;, содержащий подузел для каждого свойства компонента класса. Этот узел можно переименовать: нажмите клавишу F2 или щелкните узел правой кнопкой мыши и выберите &quot;Переименовать...&quot;. При подобном переименовании все необходимые изменения выполняются автоматически.
		</p>

		<p>
			Функциональная возможность &quot;Шаблоны компонентов&quot; также позволяет эффективно изменять типы свойств. Щелкните правой кнопкой мыши узел дерева компонента и выберите пункт меню &quot;Свойства&quot;: откроется окно, содержащее сведения о свойстве. Здесь можно изменить тип, после чего NetBeans изменит исходный код соответствующим образом.
		</p>

		<h3>Совет 7: пользуйтесь средством &quot;Исправить выражения импорта&quot;</h3>

		<p>
			Буду краток: никогда не пишите выражений импорта. В среде IDE NetBeans 4.0 появилась блестящая функциональная возможность &quot;Исправить выражения импорта&quot;, вызываемая сочетанием клавиш ALT+SHIFT+F. Эта функциональная возможность позволяет анализировать исходный код и обнаруживать имена классов, которые еще не импортированы. Если класс X еще не импортирован, и во всем проекте присутствует лишь один класс с именем X, этот класс автоматически импортируется. Если в двух разных пакетах существует два класса X, выводится диалоговое окно с запросом на выбор одного из классов. Функциональная возможность &quot;Исправить выражения импорта&quot; исключительно надежна и удобна, и она также автоматически удаляет выражения импорта, которые больше не используются.
		</p>

		<h2>Заключение</h2>

		<p>
			Эти советы помогут разработчикам создавать более качественный код с меньшим количеством синтаксических ошибок и за меньшее время. Кроме того, если читатель относится к числу разработчиков, знакомых с болями в пальцах после интенсивной работы над проектами, автоматическое написание кода средой IDE NetBeans &mdash; однозначно правильный выбор.
		</p>
		<p>
			Чем выше степень индивидуальной настройки среды IDE в соответствии с потребностями конкретного проекта, тем быстрее можно реализовать систему. С точки зрения скорости и удовольствия от использования среда IDE NetBeans 4.0 подобна идеальному гоночному автомобилю. Однако как и для гоночного автомобиля, без тюнинга не обойтись. Для индивидуальной настройки среды IDE можно настроить сокращения, макросы и шаблоны в соответствии с потребностями проекта. Велика мощь среды IDE NetBeans 4.0!
		</p>

		<h2>Об авторе</h2>

		<p>

			<a href="mailto:randahl@rockit.dk">.... (Фотография)</a> основатель датской компании по разработке программного обеспечения <a href="http://rockit.dk">ROCK IT</a> и главный разработчик инновационной полностью написанной на Java компонентно-ориентированной системы управления содержимым <span style="color: rgb(176, 29, 47)">Puls</span>, полностью разработанной с помощью NetBeans (планируется к выпуску в 2005 г.).
		</p>
	</body>
</html>
